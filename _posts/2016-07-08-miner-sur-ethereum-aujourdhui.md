---
ID: 1178
post_title: Miner sur Ethereum aujourd’hui
author: JdeTychey
post_excerpt: ""
layout: post
permalink: >
  https://www.ethereum-france.com/miner-sur-ethereum-aujourdhui/
published: true
post_date: 2016-07-08 17:05:17
---
[caption id="attachment_1181" align="aligncenter" width="500"]<img class="wp-image-1181" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/1280px-Stakhanov-1024x675.jpg" alt="Aleksei Stakhanov explique sa méthode à un camarade (vers 1940) " width="500" height="330" /> Aleksei Stakhanov explique sa méthode à un camarade (vers 1940)[/caption]

<span style="font-weight: 400;">La question revient inlassablement dans tous les événements où l’on parle d’Ethereum, et pour cause vous pouvez donc miner raisonnablement du moment que vous avez une carte graphique (</span><b>GPU</b><span style="font-weight: 400;"> – Graphic Processing Unit) récente. Tout comme l'algorithme X11 de Litecoin en son temps, le minage sur Ethereum a été conçu pour éviter le matériel dédié tel que les ASIC (Application-Specific Integrated Circuit) que l’on trouve notamment sur Bitcoin. Plusieurs barrières techniques s'opposent encore à la production de tel matériel mais cette éventualité ne peut être totalement écartée.</span>

<span style="font-weight: 400;">Sans trop entrer dans</span><strong><a href="https://github.com/ethereum/wiki/blob/master/Dagger-Hashimoto.md"> les détails techniques</a></strong><span style="font-weight: 400;"> de l’algorithme de minage, le Dagger-Hashimoto (aussi appelé Ethash) a été conçu pour subir les limitations matérielles de la vitesse d’accès à la mémoire du processeur. L’opération de calcul fait usage de fonctions de hachage (SHA-2 et SHA-3) mais nécessite des incréments issus d’un fichier régulièrement renouvelé : le</span><a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph"> <span style="font-weight: 400;">DAG</span></a><span style="font-weight: 400;"> (directed acyclic graph). Tous les 30 000 blocs, un nouveau </span><b>DAG</b><span style="font-weight: 400;"> est généré et stocké dans un espace de mémoire pour être utilisé par les processeurs effectuant les calculs de hachage. Notez au passage que cet intervalle de 30 000 blocs est ce qu’on appelle sur Ethereum une « Epoch » et que les changements dans le protocole Ethereum (les fameuses Fork) sont souvent concomitantes avec ces paliers.</span>

<span style="font-weight: 400;">Les GPU tirent leur épingle du jeu dans la course à la performance sur cet algorithme de minage, de fait elles ont par nature la capacité de faire de nombreuses « petites » opérations en parallèle et bénéficie des dernières innovations en matière de vitesse d’accès à la mémoire. N’espérez pas miner quoi que ce soit sur Ethereum avec du matériel type ASIC dédié à Bitcoin.</span>

[caption id="attachment_1179" align="aligncenter" width="500"]<img class="wp-image-1179" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/Gustave-Courbet-1819-1877-The-Stone-Breaker-1849.-Oil-canvas-45-x-54.5-cm.-Private-Collection-1024x831.jpg" alt="Gustave Courbet - le casseur de pierres (1849)" width="500" height="406" /> Gustave Courbet - le casseur de pierres (1849)[/caption]

<span style="font-weight: 400;">Tout ça pour vous dire que si vous voulez miner de l’Ether, il va falloir vous équiper en cartes graphiques ou faire tourner les vôtres. Comme le processus nécessite de charger le DAG dans la mémoire interne de la carte graphique vous allez avoir besoin d’au moins 2Go pour y parvenir. En effet la taille du DAG augmente avec le temps, les GPU à 1Go ne peuvent plus le supporter et des problèmes ont déjà été signalés pour les GPU à 2Go. En théorie vous pouvez quand même essayer de miner avec votre carte 2 Go pour le moment, j’ai fait des projections qui sont disponibles</span><a href="https://www.reddit.com/r/ethereum/comments/4hulfy/rising_concerns_about_the_dag_size_projections/"> <span style="font-weight: 400;">ici</span></a><span style="font-weight: 400;"> et grosso modo les GPU 2 Go devraient pouvoir miner jusqu’aux alentours de Noël 2016. </span><b>Premier conseil : si vous vous apprêtez installer les logiciels pour miner vérifiez que vous avez au moins 2Go, si vous changez votre GPU et souhaitez miner de temps en temps visez les 3Go minimum.</b>

<span style="font-weight: 400;">Du reste, tant que votre GPU charge le DAG elle mine.  La performance de minage se mesure généralement en MHash (méga hash -par seconde- ou encore hashrate), elle dépend de l’architecture de la carte et cette performance n’est pas forcément proportionnelle au prix. On trouve des cartes qui minent autant avec des différences de prix de plusieurs centaines d’euros, ces différences s’expliquent par de meilleures performances de refroidissement, bruit, ou encore de consommation électrique. Il y a des informations éparses sur le Mhash des modèles de GPU les plus courants, j’ai pu en rassembler quelques une ci-dessous. Ces informations étaient récoltées sur le mode déclaratif et peuvent varier selon l’overclocking ou être partiellement erronées:</span>

[caption id="attachment_1182" align="aligncenter" width="661"]<img class="wp-image-1182 size-full" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/gpu.png" width="661" height="902" /> Plusieurs GPU classées selon leur capacité de hachage par watt consommé[/caption]

<span style="font-weight: 400;">Comme vous pouvez le constater si vous n’avez qu’une carte même très performante vous dépasserez difficilement les 30 Mhash, ce qui correspond à peu près à 1 Ether par semaine en laissant tourner votre configuration 24h/24. Vous pouvez estimer l’extraction théorique (l’espérance d’extraction) à partir de hashrate sur de nombreux sites comme</span><a href="https://badmofo.github.io/ethereum-mining-calculator/"> <span style="font-weight: 400;">celui-là</span></a><span style="font-weight: 400;">, assurez-vous cependant que la « difficulté » est bien à jour. Pour que les fruits du labeur de votre ordinateur soient conséquents, il faut plusieurs GPUs. Les performances s’additionnent et vous pouvez en brancher jusqu’à 6 sur certaines cartes mères. L'indice Hash par watt vous indique quelles sont les cartes les plus efficientes, celles qui hachent le plus tout en consommant peu. Attention cependant, une GPU peu avoir un très bon score sur l'indice comme la GTX750 car elle est peu gourmande mais en contrepartie hache très peu. Il faut donc trouver un juste milieu sachant que le reste de la configuration est un coût d'installation assez conséquent (comptez environ 200€ avec du matériel de récupération). Les séries R9 280, R9 290, HD7950 et HD7990 sont très populaires parmi les mineurs car développant plus de 20 MHash, il y a une tendance à préférer la puissance brute à l'économie électrique.  </span><b>Deuxième conseil : prenez le temps de bien comparer tous les modèles sur leur performance et leur consommation.</b>

<span style="font-weight: 400;">On peut entrer dans le vif du sujet, vous avez sélectionné votre configuration dédiée au minage et surtout vérifié que alimentation électrique sera</span><strong><a href="http://outervision.com/power-supply-calculator"> suffisante</a></strong><span style="font-weight: 400;">. <strong>Est-ce que ça vaut la peine d’acheter tout ce matériel et de le monter ? Autrement dit, est-ce que vous allez miner des Ethers en masse ?</strong></span>

&nbsp;

[caption id="attachment_1183" align="aligncenter" width="600"]<img class="wp-image-1183 size-full" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/1280px-Gustave_Courbet_018-5444.jpg" alt="Gustave Courbet - les casseurs de pierres (1849)" width="600" height="366" /> Gustave Courbet - les casseurs de pierres (1849)[/caption]

<i></i>
<span style="font-weight: 400;">La réponse à cette question est probablement non mais elle nécessite de faire des projections, et donc de faire plusieurs hypothèses sur l’évolution du minage. Il faut constater qu’avec le succès d’Ethereum la difficulté beaucoup cru, et qu’elle croit encore</span><strong><a href="https://stats.etherchain.org/dashboard/db/difficulty-evolution?theme=light"> beaucoup</a></strong><span style="font-weight: 400;">. Elle est proportionnelle au temps qui sépare deux blocs, elle s’ajuste pour que l’opération de minage d’un bloc par le réseau soit en moyenne de 14 secondes environ. En comparaison sur Bitcoin la difficulté ne s'ajuste que tous les 2048 blocs soit un peu plus de tous les 14 jours avec un temps moyen entre les blocs de 10 minutes. Cette progression de la difficulté est un mécanisme d'ajustement, à mesure que les mineurs sont plus nombreux et plus performants, la difficulté augmente pour maintenir cet objectif de temps entre les blocs. L’augmentation de la difficulté sape les recettes des mineurs dans un schéma qui rappelle celui de la</span><strong><a href="https://fr.wikipedia.org/wiki/Loi_des_rendements_d%C3%A9croissants"> loi des rendements décroissants</a></strong><span style="font-weight: 400;">. Ce mécanisme fonctionne aussi à la baisse et, contrairement à Bitcoin, il permet d'ajuster très rapidement la difficulté en cas diminution brutale de la puissance de hachage du réseau.</span>

<span style="font-weight: 400;">L’espérance d’extraction d’Ether lors du minage est donc décroissante de la difficulté, plus précisément cette espérance est divisée à chaque bloc par la croissance de la difficulté entre les deux blocs précédents. Comme il n’y a pas de bons vents pour le marin qui ne sait pas où il va, je vous propose de regarder l’évolution de la difficulté de mois en mois et de considérer plusieurs scénarios pour la suite:</span>
<ul>
 	<li style="font-weight: 400;"><span style="font-weight: 400;">la projection polynomiale à l’ordre 4 (scénario 1), la difficulté augmente est  rapidement et met hors-jeu très tôt les mineurs les moins rentables;</span></li>
 	<li style="font-weight: 400;"><span style="font-weight: 400;">Celle à l’ordre 2 (scénario 2) où la progression est un peu rapide;</span></li>
 	<li style="font-weight: 400;"><span style="font-weight: 400;">Celle à l’ordre 1 (scénario 3), où la difficulté croit à un taux constant.</span></li>
</ul>
<span style="font-weight: 400;">En décembre on peut s’attendre à un ralentissement de la difficulté dû à l’obsolescence des GPU 2Go qui n’est pas pris en compte dans ces scénarios.</span>

<img class="wp-image-1184 size-full aligncenter" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/difficulty.jpg" alt="difficulty" width="936" height="251" />

&nbsp;

Maintenant il ne vous reste plus qu’à calculer votre espérance d’extraction d’Ethers modulo vos coûts d’installation et de fonctionnement (électricité)...

<span style="font-weight: 400;">Ça tombe bien j’ai préparé ça pour vous, un petit modèle de projection qui vous permet de répondre à la question “aurais-je plus d’Ethers en en achetant avec ce que je compte investir et dépenser en électricité ou bien minant ?”</span>

<span style="font-weight: 400;">Entrez le MHash de votre configuration, le coût d’acquisition, le cours de l’Ether, éventuellement votre consommation électrique et le prix du KWatt/heure, et surtout choisissez un scénario d’évolution de la difficulté… cliquez </span><a href="https://docs.google.com/spreadsheets/d/1Vtwv8Fu5THnW6b0fGcgb7Gp3WXjbEakpLatE5WLU3OE/edit?usp=sharing"><span style="font-weight: 400;">ici</span></a><span style="font-weight: 400;">!</span>

<span style="font-weight: 400;">Sachez également qu’Ethereum est censé passer (au moins partiellement) en Proof of Stake en 2017. Cette autre façon de valider les blocs fera l’objet d’autres articles mais pour le moment retenez que le minage en prendra un coup considérable. Les spéculations vont bon train sur la faisabilité de la Proof of Stake et quoi qu’on en dise une augmentation importante a été implémenté de la difficulté à partir d’un certain bloc pour inciter les développeurs à avancer sur ce sujet. Selon les estimations nous serions en Proof of Stake (ou dans avec un temps de latence entre les blocs considérablement plus long) aux alentours de Juillet 2017. Vous pouvez consulter un simulateur de difficulté par bloc</span><strong><a href="https://www.reddit.com/r/ethereum/comments/4pnjgr/ethereum_blocktime_simulator_discussion_about_the/"> ici</a></strong>

<span style="font-weight: 400;">Pour conclure, si les simulations vous ont passé l’envie de vous lancer dans le minage  ne vous arrêtez pas seulement à l’aspect financier. C’est toujours un bon moment de mettre au point, monter et configurer de telle machine. Quelques photos des plus beaux mineurs de </span><span style="font-weight: 400;"><strong><a href="https://cryptofr.com/">CryptoFR</a>, la communauté francophone qui fête aujourd'hui ses 2 ans</strong> &lt;3 &lt;3 &lt;3 :</span>

<span style="font-weight: 400;"> <img class="alignnone size-medium wp-image-1187" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/11824940_10153190568693422_6783117141029897508_n-1-165x300.jpg" alt="11824940_10153190568693422_6783117141029897508_n (1)" width="165" height="300" /> <img class="alignnone size-medium wp-image-1188" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/11834907_10153193903593422_1251248777785152343_o-1-300x225.jpg" alt="11834907_10153193903593422_1251248777785152343_o (1)" width="300" height="225" /> <img class="alignnone size-medium wp-image-1189" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/Pasted-image-at-2016_07_06-11_16-AM-300x300.png" alt="Pasted image at 2016_07_06 11_16 AM" width="300" height="300" /> <img class="alignnone size-medium wp-image-1190" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/Sans-titre-1-254x300.png" alt="Sans titre-1" width="254" height="300" /> <img class="alignnone size-medium wp-image-1191" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/Châssis-mineoncloud-225x300.jpg" alt="Châssis mineoncloud" width="225" height="300" /> <img class="alignnone size-medium wp-image-1192" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/Sans-titre-1-1-300x214.png" alt="Sans-titre-1" width="300" height="214" /></span><span style="font-weight: 400;">:<img class="alignnone size-medium wp-image-1186" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/11223528_10153202523773422_7237718126816390401_n-1-165x300.jpg" alt="11223528_10153202523773422_7237718126816390401_n (1)" width="165" height="300" /><img class="alignnone size-medium wp-image-1200" src="https://www.ethereum-france.com/wp-content/uploads/2016/07/index-169x300.jpeg" alt="index" width="169" height="300" /></span>

&nbsp;